# ‚úÖ –§–∞–∑–∞ 1 –ó–ê–í–ï–†–®–ï–ù–ê: Telegram Mini Apps Integration

## üéØ –ò—Ç–æ–≥–∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

–£—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã **–≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∏—á–∏ –§–∞–∑—ã 1** –≤ Bazzar Staff Mobile!

---

## üì¶ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. **–•—É–∫–∏ (Hooks)**

#### `src/hooks/useBackButton.js`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π "–ù–∞–∑–∞–¥" –≤ Telegram
- –°–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ (`/`)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π cleanup

#### `src/hooks/useMainButton.js`
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π –¥–µ–π—Å—Ç–≤–∏—è Telegram
- –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è: —Ç–µ–∫—Å—Ç, —Ü–≤–µ—Ç, —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–æ–≥—Ä–µ—Å—Å
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–∫–∞–∑/—Å–∫—Ä—ã—Ç–∏–µ
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å ref –¥–ª—è onClick

### 2. **–£—Ç–∏–ª–∏—Ç—ã (Utils)**

#### `src/utils/telegram.js` (–æ–±–Ω–æ–≤–ª–µ–Ω)
–î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –Ω–∞—Ç–∏–≤–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤:
- `showPopup()` - –∫–∞—Å—Ç–æ–º–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ —Å –¥–æ 3 –∫–Ω–æ–ø–æ–∫
- `showAlert()` - –ø—Ä–æ—Å—Ç—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `showConfirm()` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
- `showDialog()` - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π confirm —Å destructive –æ–ø—Ü–∏–µ–π
- –£–ª—É—á—à–µ–Ω–Ω—ã–π `haptic` —Å fallback –¥–ª—è –≤–µ–±-–≤–µ—Ä—Å–∏–∏

---

## üé® –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### ‚úÖ OrderDetail.jsx
**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- `useBackButton()` - –Ω–∞—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
- `useMainButton()` - "–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–∫–∞–∑" (–∑–µ–ª–µ–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥
- `showDialog()` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- `haptic.impact()` - –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
useMainButton('–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–∫–∞–∑', async () => {
    const confirmed = await showDialog({
        title: '–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–∫–∞–∑?',
        message: '–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ç–æ–≤–∞—Ä –¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç—É',
        okText: '–ó–∞–≤–µ—Ä—à–∏—Ç—å',
        cancelText: '–û—Ç–º–µ–Ω–∞'
    });
    
    if (confirmed) await updateStatus('completed');
}, {
    isVisible: order?.status === 'processing',
    color: '#34c759'
});
```

---

### ‚úÖ Tasks.jsx
**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- `useBackButton()` - –Ω–∞—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
- `useMainButton()` - "–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É"
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ú–æ–∏ –∑–∞–¥–∞—á–∏"
  - –°–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞ (#007aff)
- `showDialog()` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤–∑—è—Ç–∏—è –∑–∞–¥–∞—á–∏
- `haptic` - –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –≤–∑—è—Ç–∏–∏ –∑–∞–¥–∞—á–∏ –∏ —É—Å–ø–µ—Ö–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
useMainButton('–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É', async () => {
    haptic.impact('medium');
    toast.info('–§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞!');
}, {
    isVisible: view === 'my',
    color: '#007aff'
});

// –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤–∑—è—Ç–∏—è –∑–∞–¥–∞—á–∏
const handleTakeTask = async (task) => {
    const confirmed = await showDialog({
        title: '–í–∑—è—Ç—å –∑–∞–¥–∞—á—É?',
        message: `–í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ: ${task.reward} ‚ÇΩ\n–î–µ–¥–ª–∞–π–Ω: ${task.deadline}`,
        okText: '–í–∑—è—Ç—å',
        cancelText: '–û—Ç–º–µ–Ω–∞'
    });
    
    if (confirmed) {
        // ... –≤–∑—è—Ç—å –∑–∞–¥–∞—á—É
        haptic.notification('success');
    }
};
```

---

### ‚úÖ Profile.jsx
**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- `useBackButton()` - –Ω–∞—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
- `showDialog()` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
- `haptic` - –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ logout

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
const handleLogout = async () => {
    haptic.impact('medium');
    
    const confirmed = await showDialog({
        title: '–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞?',
        message: '–í—ã —É–≤–µ—Ä–µ–Ω—ã —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?',
        okText: '–í—ã–π—Ç–∏',
        cancelText: '–û—Ç–º–µ–Ω–∞',
        destructive: true // –ö—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞
    });

    if (confirmed) {
        haptic.notification('success');
        onLogout();
    }
};
```

---

### ‚úÖ Orders.jsx
**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- `useBackButton()` - –Ω–∞—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
–ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞–∑–∞–¥ –∫ Dashboard.

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã: **8**
- ‚úÖ `src/hooks/useBackButton.js` (—Å–æ–∑–¥–∞–Ω)
- ‚úÖ `src/hooks/useMainButton.js` (—Å–æ–∑–¥–∞–Ω)
- ‚úÖ `src/utils/telegram.js` (–æ–±–Ω–æ–≤–ª–µ–Ω)
- ‚úÖ `src/pages/OrderDetail.jsx` (–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω)
- ‚úÖ `src/pages/Tasks.jsx` (–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω)
- ‚úÖ `src/pages/Profile.jsx` (–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω)
- ‚úÖ `src/pages/Orders.jsx` (–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω)
- ‚úÖ `src/pages/Services.jsx` (–≥–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)

### –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–æ: **~250**

### –§–∏—á–∏ –≤–Ω–µ–¥—Ä–µ–Ω—ã: **3/3** ‚úÖ
1. ‚úÖ Back Button
2. ‚úÖ Main Button
3. ‚úÖ Popup Dialogs

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:
- ‚ùå –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –≤ UI (–∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ)
- ‚ùå –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π —Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
- ‚ùå –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ `alert()` / `confirm()`
- ‚ùå –ù–µ—Ç —Ç–∞–∫—Ç–∏–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

### –ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:
- ‚úÖ –ù–∞—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ Telegram
- ‚úÖ –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –≤—Å–µ–≥–¥–∞ –ø–æ–¥ —Ä—É–∫–æ–π
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–µ –Ω–∞—Ç–∏–≤–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ Telegram
- ‚úÖ Haptic Feedback –ø—Ä–∏ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –Ω–∞—Ç–∏–≤–Ω–æ–µ

---

## üöÄ –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
cd /Users/macbookpro/Desktop/BAZZAR\ PRODJECT\'S/BAZZAR\ MARKET/bazzar-staff-mobile
npm run dev
```

### 2. –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram
- –ß–µ—Ä–µ–∑ Telegram Bot
- –ò–ª–∏ —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ DevTools (–¥–æ–±–∞–≤–∏—Ç—å `window.Telegram.WebApp`)

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏
- **OrderDetail**: –ö–Ω–æ–ø–∫–∞ "–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–∫–∞–∑" –≤–Ω–∏–∑—É
- **Tasks**: –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É" –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ú–æ–∏ –∑–∞–¥–∞—á–∏"
- **Profile**: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥
- **–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**: –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ Telegram

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –§–∞–∑–∞ 2: UX —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
1. **Biometric Auth** - –≤—Ö–æ–¥ –ø–æ FaceID/TouchID
2. **Settings Button** - –∫–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
3. **Swipe Behavior** - –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö —Å–≤–∞–π–ø–æ–≤

### –§–∞–∑–∞ 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. **Cloud Storage** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ –æ–±–ª–∞–∫–µ
5. **QR Scanner** - —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–æ–≤
6. **Dynamic Theming** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ç–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–§–∞–∑–∞ 1 –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞!**

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Bazzar Staff Mobile —Ç–µ–ø–µ—Ä—å:
- üé® –í—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –Ω–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Telegram
- üöÄ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Telegram Mini Apps SDK
- üì± –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–π UX —Å haptic feedback
- ‚ú® –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –≤ —Ä–µ–∞–ª—å–Ω–æ–º Telegram!** üöÄ
